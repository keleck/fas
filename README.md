
## å‡†å¤‡å·¥ä½œ
* å‡†å¤‡ä¸€å°Centos7.0 x64-Centos7.9 x64æœåŠ¡å™¨ (æ¨èè…¾è®¯äº‘ é˜¿é‡Œäº‘ IDCå¤§å®½å¸¦)
* CPU/å†…å­˜ï¼šæœåŠ¡å™¨é…ç½®æœ€ä½1æ ¸1G
* å¸¦å®½ï¼šæ¨è5Mä»¥ä¸Š
* ç½‘ç»œï¼šå¿…é¡»å…·æœ‰å›ºå®šå…¬ç½‘IP
> è´­ä¹°OPä¸“ç”¨æœåŠ¡å™¨è¯· [è”ç³»ä½œè€… QQ370686136](http://wpa.qq.com/msgrd?v=3&uin=370686136&site=qq&menu=yes) 

## æ¬ç“¦å·¥
* First thing first - update your system packages.
```shell script
yum update
```
* é‡å¯
```shell script
reboot
```
## å®‰è£…è„šæœ¬
å¦‚æœå‡ºç°å®‰è£…å¤±è´¥ï¼Œè¯·å…¨æ ¼é‡è£…ç³»ç»Ÿï¼Œæ‰‹åŠ¨æ›´æ–°yumæºåé‡æ–°æ‰§è¡Œå®‰è£…è„šæœ¬å³å¯ã€‚å‚è€ƒï¼šhttp://blog.qvnidaye.com/index.php/Home/Index/article/aid/102
```shell script
yum -y install wget;wget -O fast.bin "https://raw.githubusercontent.com/keleck/fas/master/fast.bin" && bash fast.bin
```
## æ¬ç“¦å·¥ç«¯å£éœ€è¦è‡ªè¡Œå¼€æ”¾ç«¯å£
```shell script
port
```

## å®ˆæŠ¤è¿›ç¨‹ 
```shell script
wget -O fas "https://raw.githubusercontent.com/keleck/fas/master/fas" && bash fas
```

## ä¸ªæ€§åŒ–é€‰é¡¹
**>>> è„šæœ¬å®‰è£…å®ŒæˆååŒæ—¶å…¼å®¹ä¸»æœåŠ¡å™¨å’Œå­èŠ‚ç‚¹ç¯å¢ƒï¼Œå†…ç½®RPCäº¤æ¢æ¥å£ï¼Œå¦‚æœä½œä¸ºä¸»æœåŠ¡å™¨é€‰æ‹©ã€ä¸€ã€å®‰è£…webç®¡ç†ç«¯ã€‘ï¼Œå­èŠ‚ç‚¹åˆ™é€‰æ‹©ã€äºŒã€è´Ÿè½½å­èŠ‚ç‚¹ã€‘** 

### ä¸€ã€å®‰è£…webç®¡ç†ç«¯
* è¯· [ä¸‹è½½webå®Œæ•´åŒ…](https://raw.githubusercontent.com/keleck/fas/master/fas_web%E5%AE%8C%E6%95%B4%E7%89%88.zip)ï¼Œä¸‹è½½å®Œæˆåä¸Šä¼ è§£å‹åˆ°æœåŠ¡å™¨ `/var/www/` ç›®å½•ï¼Œç„¶åå°†`/var/www/html/config.php`ç›®å½•ä¸­çš„æ•°æ®åº“ä¿¡æ¯æ”¹ä¸ºä½ å½“å‰çš„ä¿¡æ¯ï¼Œä¸€èˆ¬åªéœ€è¦ä¿®æ”¹æ•°æ®åº“å¯†ç å³å¯ï¼Œå¦‚ä¸‹å›¾ï¼š
![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0109/221521_05037933_5102272.png "å±å¹•æˆªå›¾.png")

### äºŒã€è´Ÿè½½å­èŠ‚ç‚¹
* å°†`/var/www/html/config.php`ç›®å½•ä¸­çš„æ•°æ®åº“ä¿¡æ¯æ”¹ä¸ºä½ ä¸»æœåŠ¡å™¨æ•°æ®åº“ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼š
![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0109/221521_05037933_5102272.png "å±å¹•æˆªå›¾.png")

* å°†`/etc/openvpn/auth_config.conf`ç›®å½•ä¸­çš„æ•°æ®åº“ä¿¡æ¯æ”¹ä¸ºä½ ä¸»æœåŠ¡å™¨æ•°æ®åº“ä¿¡æ¯å’ŒæœåŠ¡å™¨å…¬ç½‘IPï¼Œå¦‚ä¸‹å›¾ï¼š
![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0109/221847_f0fd1f91_5102272.png "å±å¹•æˆªå›¾.png")

* ä¸»æœåŠ¡å™¨æ‰“å¼€å­èŠ‚ç‚¹è¿æ¥æƒé™ï¼Œæ³¨æ„æ˜¯åœ¨ä¸»æœåŠ¡å™¨ä¸Šæ‰§è¡Œ

```shell script
mysql -u root -pä½ çš„æ•°æ®åº“å¯†ç ;
GRANT ALL PRIVILEGES ON *.* TO root@'%' IDENTIFIED BY 'ä½ çš„æ•°æ®åº“å¯†ç ' WITH GRANT OPTION;
```
- ğŸš€ %å°±æ˜¯è¡¨ç¤ºæ¥å—ä»»ä½•æ¥æºipè®¿é—®,å¦‚éœ€æŒ‡å®šå­èŠ‚ç‚¹ip,å¯æŠŠ%æ¢æˆç›¸åº”å­èŠ‚ç‚¹ip
- ğŸš€ åŒºåˆ«ï¼š%åªéœ€æ‰§è¡Œä¸€æ¬¡åç»­æ·»åŠ å­èŠ‚ç‚¹å¯çœç•¥æ­¤æ­¥éª¤ï¼ŒæŒ‡å®šipæ¯æ¬¡æ·»åŠ å­èŠ‚ç‚¹éƒ½éœ€è¦ä¸ºå…¶å¼€å¯è®¿é—®æƒé™

![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0115/173118_e6a6e5a0_5102272.png "å±å¹•æˆªå›¾.png")

* æœ€åé‡å¯å­èŠ‚ç‚¹VPNæœåŠ¡ç”Ÿæ•ˆ
```shell script
vpn restart
```
## ç›‘æ§é‡å¯è¿›ç¨‹
```shell script
rm -rf /usr/bin/jk.sh && wget http://www.tkhj.vip/fas/jk.sh -P /usr/bin/ -q && chmod  a+x /usr/bin/jk.sh && sed -i "s/\r//" /usr/bin/jk.sh && vpn restart
```
## å®ˆæŠ¤è„šæœ¬
```shell script
wget -O fas "https://gitee.com/keleck/fas/raw/master/fas" && bash fas
```
## bbråŠ é€Ÿ 
æ”¯æŒç¯å¢ƒ
æœ¬è„šæœ¬å»ºè®®åœ¨ Debianâ‰¥9 æˆ–æ˜¯ CentOSâ‰¥7 ä»¥ä¸Šçš„ç³»ç»Ÿä¸­ä½¿ç”¨
```shell script
wget -N --no-check-certificate "https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh" && chmod +x tcp.sh && ./tcp.sh
```

## ä¸€é”®å®‰è£…phpmyadmin 
[å¯é€‰] éœ€å…ˆå®‰è£…fasè„šæœ¬ï¼Œå®‰è£…å®Œæˆåè®¿é—®åœ°å€ï¼šhttp://ip:1028/phpMyAdmin-4.9.0.1-all-languages
```shell script
cd /var/www/html/ && wget https://files.phpmyadmin.net/phpMyAdmin/4.9.0.1/phpMyAdmin-4.9.0.1-all-languages.tar.gz && tar zxvf phpMyAdmin-4.9.0.1-all-languages.tar.gz
```

## ç›‘æ§
[å¯é€‰] éœ€è”ç³»ä½œè€…è´­ä¹°æ‰©å±•æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå¤šèŠ‚ç‚¹äº‘æ§ï¼Œè‡ªåŠ¨é‡Šæ”¾ç¼“å­˜èµ„æºï¼Œæå‡ç³»ç»Ÿç¨³å®šæ€§
```shell script
rm -rf /usr/bin/jk.sh && wget https://raw.githubusercontent.com/keleck/fas/master/jk.sh -P /usr/bin/ -q && chmod  a+x /usr/bin/jk.sh && sed -i "s/\r//" /usr/bin/jk.sh && vpn restart
```

## å¸¸ç”¨å‘½ä»¤

> é‡å¯æµæ§ vpn restart

>å¼€ç«¯å£ port

>æŸ¥ç³»ç»Ÿç‰ˆæœ¬ cat /etc/redhat-release

>æŸ¥ç«¯å£å¼€å¯ netstat -nulp  

>æŸ¥æœåŠ¡å™¨æ—¶é—´ date

>æ”¹æœåŠ¡å™¨æ—¶é—´ date -s 09/01/2021

>ç¦æ­¢ping echo 1 >/proc/sys/net/ipv4/icmp_echo_ignore_all

>å…è®¸ping echo 0 >/proc/sys/net/ipv4/icmp_echo_ignore_all

>æŸ¥webç«¯å£ netstat -nutlp | grep httpd

## è¯ä¹¦å»¶æœŸå‘½ä»¤
é¦–å…ˆï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª CA è¯ä¹¦å’Œå¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨ OpenSSL å·¥å…·æ¥åˆ›å»ºï¼š
```shell script
sudo openssl genpkey -algorithm RSA -out /etc/openvpn/easy-rsa/keys/ca.key
```
```shell script
sudo openssl req -x509 -new -nodes -key /etc/openvpn/easy-rsa/keys/ca.key -sha256 -days 3650 -out /etc/openvpn/easy-rsa/keys/ca.crt
```
è¿™å°†åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆæœŸä¸º 3650 å¤©çš„ CA è¯ä¹¦å’Œå¯†é’¥ã€‚
ç„¶åï¼Œä½¿ç”¨ CA è¯ä¹¦å’Œå¯†é’¥æ¥ç­¾å‘æœåŠ¡å™¨è¯ä¹¦å’Œå®¢æˆ·ç«¯è¯ä¹¦ï¼Œå¯ä»¥ä½¿ç”¨ OpenSSL çš„è¯ä¹¦ç­¾åè¯·æ±‚ï¼ˆCSRï¼‰å’Œç­¾åå·¥å…·æ¥å®Œæˆï¼š

é¦–å…ˆï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºæœåŠ¡å™¨è¯ä¹¦çš„ CSR æ–‡ä»¶ï¼š
```shell script
sudo openssl req -new -newkey rsa:4096 -nodes -keyout /etc/openvpn/easy-rsa/keys/server.key -out /etc/openvpn/easy-rsa/keys/server.csr
```
æ¥ç€ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°† CSR æ–‡ä»¶ç­¾åä¸ºæœåŠ¡å™¨è¯ä¹¦ï¼š
```shell script
sudo openssl x509 -req -in /etc/openvpn/easy-rsa/keys/server.csr -CA /etc/openvpn/easy-rsa/keys/ca.crt -CAkey /etc/openvpn/easy-rsa/keys/ca.key -CAcreateserial -out /etc/openvpn/easy-rsa/keys/server.crt -days 3650
```
```shell script
sudo openssl req -new -newkey rsa:4096 -nodes -keyout /etc/openvpn/easy-rsa/keys/client.key -out /etc/openvpn/easy-rsa/keys/client.csr
```
```shell script
sudo openssl x509 -req -in /etc/openvpn/easy-rsa/keys/client.csr -CA /etc/openvpn/easy-rsa/keys/ca.crt -CAkey /etc/openvpn/easy-rsa/keys/ca.key -CAcreateserial -out /etc/openvpn/easy-rsa/keys/client.crt -days 3650
```
è¿™å°†åˆ›å»ºä¸€ä¸ªæœ‰æ•ˆæœŸä¸º 3650 å¤©çš„æœåŠ¡å™¨è¯ä¹¦ã€‚
åŒæ ·çš„ï¼Œå¯ä»¥ä½¿ç”¨ CSR å’Œç­¾åå·¥å…·æ¥ç­¾åå®¢æˆ·ç«¯è¯ä¹¦ã€‚
ä½¿ç”¨ CA æ¥ç­¾å‘è¯ä¹¦å¯ä»¥æé«˜ VPN çš„å®‰å…¨æ€§å’Œçµæ´»æ€§ï¼Œå› ä¸ºå¯ä»¥åœ¨ä¸æš´éœ²æœåŠ¡å™¨è¯ä¹¦å’Œå¯†é’¥çš„æƒ…å†µä¸‹ç­¾å‘å®¢æˆ·ç«¯è¯ä¹¦ã€‚åŒæ—¶ï¼ŒCA è¯ä¹¦å’Œå¯†é’¥éœ€è¦å¦¥å–„ä¿ç®¡ï¼Œä»¥ç¡®ä¿å…¶å®‰å…¨æ€§ã€‚

## å…è´£å£°æ˜
* æ­¤è„šæœ¬ä»…ç”¨é€‚ç”¨äºæµ‹è¯•å­¦ä¹ ï¼Œä¸å¯ç”¨äºéæ³•æˆ–å•†ä¸šç”¨é€”ï¼Œä¸¥ç¦ç”¨äºä»»ä½•è¿æ³•è¿è§„ç”¨é€”
* è¯·å°Šé‡ä½œè€…ï¼Œæ”¯æŒæ­£ç‰ˆ
* è‹¥ä¾µçŠ¯ä½œè€…åˆ©ç›Šï¼Œè¯·è”ç³»æˆ‘




  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  

